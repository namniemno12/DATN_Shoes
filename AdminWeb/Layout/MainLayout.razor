@inherits LayoutComponentBase
@using AdminWeb.Components

<div class="m-0 font-sans text-base antialiased font-normal leading-default bg-gray-50 text-slate-500">
    <div class="absolute w-full bg-gradient-to-br from-blue-500 to-purple-600 dark:hidden min-h-75"></div>
    
    <!-- Sidebar -->
    <Sidebar />
    
    <!-- Header Fixed at Top -->
    <Header />
    <!-- Toast Notifications -->
    <Toast />
    
    <!-- Main Content Area with Sidebar Offset and Header Padding -->
    <main class="relative h-full transition-all duration-200 ease-in-out xl:ml-68 rounded-xl content-offset overflow-y-auto">
        <!-- Page Content -->
        <div class="w-full px-6 py-6 mx-auto">
            @Body
        </div>
        
        <!-- Footer -->
        <div class="w-full px-6 mx-auto mt-auto">
            <Footer />
        </div>
    </main>
</div>

@code {
    [Parameter]
    public string PageName { get; set; } = "Dashboard";

    [Inject]
    private IJSRuntime JS { get; set; } = default!;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(firstRender)
        {
            try { await JS.InvokeVoidAsync("adjustLayout"); } catch { }
        }
    }
}
