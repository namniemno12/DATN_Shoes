@* Loading Spinner Component *@

<div class="loading-overlay @(IsVisible ? "show" : "")">
    <div class="loading-backdrop"></div>
    <div class="loading-container">
        <!-- Decorative particles -->
        <div class="particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>

        <div class="loading-content">
            <div class="loading-spinner">
                @if (!string.IsNullOrEmpty(IconClass))
                {
                    <div class="spinner-icon-wrapper">
                        <i class="@IconClass"></i>
                    </div>
                }
                else
                {
                    <div class="modern-spinner">
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-core"></div>
                    </div>
                }
            </div>
            
            @if (!string.IsNullOrEmpty(Title))
            {
                <h3 class="loading-title">@Title</h3>
            }
            
            @if (!string.IsNullOrEmpty(Message))
            {
                <p class="loading-message">@Message</p>
            }
            
            @if (ShowProgress && ProgressValue.HasValue)
            {
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: @(ProgressValue)%">
                            <div class="progress-shine"></div>
                        </div>
                    </div>
                    <span class="progress-text">@(ProgressValue)%</span>
                </div>
            }
            
            <!-- Loading dots animation -->
            <div class="loading-dots">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public bool IsVisible { get; set; } = false;
    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Message { get; set; }
    [Parameter] public string? IconClass { get; set; } // e.g., "fas fa-spinner fa-spin"
    [Parameter] public bool ShowProgress { get; set; } = false;
    [Parameter] public int? ProgressValue { get; set; } // 0-100
}